(window.webpackJsonpclient=window.webpackJsonpclient||[]).push([[0],{10:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(1),o=function e(t){Object(r.a)(this,e),this.name=t&&t.name,this.href=t&&t.href,this.type=t&&t.type}},108:function(e,t){},11:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(1),o=function e(t){Object(r.a)(this,e),this.type=t&&t.type,this.className=t&&t.className,this.style=t&&t.style,this.bookPlot=t&&t.bookPlot}},133:function(e,t){},172:function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),a=n(15),i=n.n(a),c=(n(86),n(1)),s=n(3),u=n(5),l=n(4),h=n(6),f=n(79),p=n(17),b=n(2),k=n(32),d=n.n(k),y=function(){function e(t){Object(c.a)(this,e),this.bookRequest=t&&t.bookRequest}return Object(s.a)(e,[{key:"isSame",value:function(e){return this.bookRequest&&this.bookRequest.isSame(e.bookRequest)}},{key:"getBookKey",value:function(){return this.bookRequest&&this.bookRequest.bookKey}},{key:"isBookOpen",value:function(){return this.originBook&&this.originBook.isOpen}}]),e}(),v=function(){function e(t){Object(c.a)(this,e),this.chapterRequest=t&&t.chapterRequest}return Object(s.a)(e,[{key:"isSame",value:function(e){return this.chapterRequest.isSame(e.chapterRequest)}},{key:"getBookKey",value:function(){return this.chapterRequest&&this.chapterRequest.bookKey}},{key:"getChapterIndex",value:function(){return this.chapterRequest&&this.chapterRequest.chapterIndex}}]),e}(),g=function(){function e(t){Object(c.a)(this,e),this.bookKey=t&&t.bookKey,this.bookUrl=t&&t.bookUrl,this.zipped=t&&t.zipped,this.backUrl=t&&t.backUrl}return Object(s.a)(e,[{key:"isSame",value:function(e){var t=e.bookKey,n=e.bookUrl,r=e.zipped,o=e.backUrl;return this.bookKey==t&&this.bookUrl==n&&this.zipped==r&&this.backUrl==o}}]),e}(),m=function(){function e(t){Object(c.a)(this,e),this.bookKey=t&&t.bookKey,this.bookUrl=t&&t.bookUrl,this.zipped=t&&t.zipped,this.chapterIndex=t&&t.chapterIndex,this.backUrl=t&&t.backUrl}return Object(s.a)(e,[{key:"isSame",value:function(e){var t=e.bookKey,n=e.bookUrl,r=e.zipped,o=e.chapterIndex,a=e.backUrl;return this.bookKey==t&&this.bookUrl==n&&this.zipped==r&&this.chapterIndex==o&&this.backUrl==a}}]),e}(),O=n(66),w=function e(t){Object(c.a)(this,e),this.ip=t&&t.ip,this.port=t&&t.port};function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(n,!0).forEach(function(t){Object(p.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var R=function(){function e(){var t=this;Object(c.a)(this,e),Object(b.d)(function(){console.log("curRequestData",t.curRequestData)}),this.bookAssistant=new O.a({resolver:this})}return Object(s.a)(e,[{key:"syncServer",value:function(e){this.requestData=e;new w(x({},JSON.parse(e)))}},{key:"openBook",value:function(e){var t=this;this.requestData=e;var n=new g(x({},JSON.parse(e))),r=new y({bookRequest:n});this.bookAssistant.queryBook(r).then(function(e){t.onOpenResult(!0,{bookQuery:r,result:e})},function(e){t.onOpenResult(!1,{bookQuery:r,err:e})}).catch(function(e){t.onOpenResult(!1,{bookQuery:r,err:e})})}},{key:"loadChapter",value:function(e){var t=this;this.requestData=e;var n=new m(x({},JSON.parse(e))),r=new v({chapterRequest:n});this.bookAssistant.queryChapter(r).then(function(e){t.onChapterResult(!0,{chapterQuery:r,result:e})},function(e){t.onChapterResult(!1,{chapterQuery:r,err:e})}).catch(function(e){t.onChapterResult(!1,{chapterQuery:r,err:e})})}},{key:"onOpenResult",value:function(e,t){var n,r=this,o=t.bookQuery,a=t.result,i=t.err;e?(n=JSON.stringify(a),console.log("\u4e66\u7c4d\u6253\u5f00\u6210\u529f",a)):(n=JSON.stringify(i),console.log("\u4e66\u7c4d\u6253\u5f00\u5931\u8d25",i));var c=o.bookRequest,s=c.bookKey,u=c.backUrl;(new d.a).post(u,{success:e,bookKey:s,data:n}).then(function(t){console.log(t.data),e&&r.bookAssistant.cacheBookResource(o)}).catch(function(e){console.log(e)})}},{key:"onChapterResult",value:function(e,t){var n,r=t.chapterQuery,o=t.result,a=t.err;e?(n=JSON.stringify(o),console.log("\u7ae0\u8282\u52a0\u8f7d\u6210\u529f",o)):(n=JSON.stringify(a),console.log("\u4e66\u7c4d\u6253\u5f00\u5931\u8d25",a));var i=r.chapterRequest,c=i.bookKey,s=i.chapterIndex,u=i.backUrl;(new d.a).post(u,{success:e,bookKey:c,chapterIndex:s,data:n}).then(function(e){console.log(e.data)}).catch(function(e){console.log(e)})}},{key:"setImageData",value:function(e){this.imageData=e}},{key:"curRequestData",get:function(){return this.requestData}},{key:"curImageData",get:function(){return this.imageData}}]),e}();Object(b.h)(R,{imageData:b.m,requestData:b.m,curRequestData:b.e,curImageData:b.e});var B=R,I=n(37),q=n.n(I),P=(Object(f.a)(function(e){console.log("MutableComp is rendering");var t=e.data;return console.log(t),o.a.createElement("div",null,o.a.createElement("img",{style:{width:"80%"},src:t.curImageData}))}),function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(l.a)(t).call(this,e))).ip="192.168.0.100",n.port=9595,n.zipped=!0,window.jsBridge=new B,n.onLife(1),n}return Object(h.a)(t,e),Object(s.a)(t,[{key:"onLife",value:function(e){window.platform&&window.platform.onLife&&window.platform.onLife(e)}},{key:"componentWillMount",value:function(){this.onLife(2)}},{key:"render",value:function(){var e=this;return this.onLife(3),o.a.createElement("div",{className:q.a.andserver},o.a.createElement("div",null,"this is andserver page"),o.a.createElement("div",null,o.a.createElement("input",{onChange:function(t){e.changeBookKey(t)},placeholder:"\u8f93\u5165\u56fe\u4e66Key"})),o.a.createElement("div",null,o.a.createElement("button",{onClick:function(){e.openBook(!0)}},"\u901a\u8fc7\u538b\u7f29\u5305\u6253\u5f00\u56fe\u4e66"),o.a.createElement("button",{onClick:function(){e.openBook(!1)}},"\u901a\u8fc7\u89e3\u538b\u76ee\u5f55\u6253\u5f00\u56fe\u4e66")),o.a.createElement("div",null,o.a.createElement("input",{onChange:function(t){e.changeChapterIndex(t)},placeholder:"\u8f93\u5165\u7ae0\u8282\u7f16\u53f7"})),o.a.createElement("button",{onClick:function(){e.loadChapter()}},"\u52a0\u8f7d\u7ae0\u8282"),o.a.createElement("div",null,o.a.createElement("input",{onChange:function(t){e.changeFileUrl(t)},placeholder:"\u8f93\u5165\u6587\u4ef6\u5730\u5740"})),o.a.createElement("div",null,o.a.createElement("button",{onClick:function(){e.downloadFile()}},"\u4e0b\u8f7d\u6587\u4ef6"),o.a.createElement("button",{onClick:function(){e.openFromServer()}},"\u76f4\u63a5\u6253\u5f00")))}},{key:"openBook",value:function(e){var t=this.bookKey;this.zipped=e,this.bookUrl=e?"http://".concat(this.ip,":").concat(this.port,"/resources/server/book/").concat(t):"http://".concat(this.ip,":").concat(this.port,"/resources/server/book/unzip/").concat(t,"/");var n="http://".concat(this.ip,":").concat(this.port,"/book/bookResult");window.jsBridge.openBook(JSON.stringify({bookKey:t,bookUrl:this.bookUrl,zipped:this.zipped,backUrl:n}))}},{key:"loadChapter",value:function(){var e=this.bookKey,t=this.zipped,n="http://".concat(this.ip,":").concat(this.port,"/book/chapterResult"),r=this.chapterIndex;window.jsBridge.loadChapter(JSON.stringify({bookKey:e,bookUrl:this.bookUrl,zipped:t,chapterIndex:r,backUrl:n}))}},{key:"openFromServer",value:function(){this.zipped=!0;var e=this.bookKey;this.bookUrl=this.fileUrl;var t="http://".concat(this.ip,":").concat(this.port,"/book/bookResult");window.jsBridge.openBook(JSON.stringify({bookKey:e,bookUrl:this.bookUrl,zipped:this.zipped,backUrl:t}))}},{key:"downloadFile",value:function(){var e=this.fileUrl;new Promise(function(t,n){window.JSZipUtils.getBinaryContent(e,{progress:function(e){console.log(e)},callback:function(e,r){if(e)n(e);else{var o=new window.ePub.Book;o.open(r),o.opened.then(function(e){console.log(e)},function(e){console.log("\u6253\u5f00\u4e66\u7c4d\u51fa\u9519",e)}).catch(function(e){console.log("\u6253\u5f00\u4e66\u7c4d\u51fa\u9519",e)}),t(r)}}})})}},{key:"changeBookKey",value:function(e){this.bookKey=e.target.value}},{key:"changeChapterIndex",value:function(e){this.chapterIndex=e.target.value}},{key:"changeFileUrl",value:function(e){this.fileUrl=e.target.value}},{key:"componentDidMount",value:function(){console.log(q.a),this.onLife(4)}},{key:"componentWillUnmount",value:function(){this.onLife(5),delete window.jsBridge}}]),t}(r.Component));i.a.render(o.a.createElement(P,null),document.getElementById("root"))},33:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(1),o=function e(t){Object(r.a)(this,e),this.bookKey=t&&t.bookKey,this.chapterIndex=t&&t.chapterIndex,this.renderBlocks=t&&t.renderBlocks}},34:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(1),o=n(5),a=n(4),i=n(6),c=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(o.a)(this,Object(a.a)(t).call(this,e))).nodeType="image",n.src=e&&e.src,n.active=e&&e.active,n.alt=e&&e.alt,n.href=e&&e.href,n.base64Data=e&&e.base64Data,n.width=e&&e.width,n.height=e&&e.height,n}return Object(i.a)(t,e),t}(n(11).a)},35:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(1),o=function e(t){Object(r.a)(this,e),this.bookKey=t&&t.bookKey,this.bookUrl=t&&t.bookUrl,this.zipped=t&&t.zipped,this.chapterIndex=t&&t.chapterIndex}},36:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(1),o=function e(t){Object(r.a)(this,e),this.imageResource=t&&t.imageResource,this.imageNode=t&&t.imageNode}},37:function(e,t,n){e.exports={andserver:"epubfile_andserver__-wevE"}},66:function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return U});var r=n(17),o=n(7),a=n.n(o),i=n(18),c=n(1),s=n(3),u=n(19),l=n(67),h=n.n(l),f=n(68),p=n.n(f),b=n(69),k=n.n(b),d=n(70),y=n(71),v=n(72),g=n(73),m=n(74),O=n(80),w=n(75),j=n(33),x=n(76),R=n(77),B=n(34),I=n(78),q=n(35),P=n(36);function N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N(n,!0).forEach(function(t){Object(r.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var U=function(){function t(e){Object(c.a)(this,t),this.resolver=e&&e.resolver,this.quickInfoMap=new Map,u.config({driver:u.WEBSQL,name:"epubfile",version:1,description:"save epub file info"})}return Object(s.a)(t,[{key:"queryBook",value:function(){var e=Object(i.a)(a.a.mark(function e(t){var n,r,o,i,c;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.getBookKey(),r=this.quickInfoMap.get(n),(o=r&&r.bookQuery)&&o.isSame(t)?(console.log("\u5df2\u6709\u67e5\u8be2\u8bb0\u5f55"),t=o):console.log("\u672a\u627e\u5230\u67e5\u8be2\u8bb0\u5f55"),!(i=t.opfPackage)){e.next=8;break}return t.hitType="cache",e.abrupt("return",i);case 8:return e.next=10,this.openBook(t);case 10:if(!(c=e.sent)){e.next=15;break}return console.log("\u4e66\u7c4d\u5df2\u6253\u5f00",c),t.originBook=c,e.abrupt("return",this.rebuildBook(t));case 15:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"openBook",value:function(){var e=Object(i.a)(a.a.mark(function e(t){var n,r,o,i;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.bookRequest,r=n.bookUrl,o=n.zipped,i=window.ePub(r,{openAs:o?"epub":"directory"}),e.abrupt("return",i.opened);case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},{key:"rebuildBook",value:function(e){var t=e.originBook,n=e.bookRequest,r=t.container,o=t.package,a=t.resources,i=o.metadata,c=o.coverPath,s=o.ncxPath,u=o.navPath,l=o.spine,h=o.uniqueIdentifier,f=a.assets,p=a.css,b=a.html,k=Array.of(),v=!0,g=!1,m=void 0;try{for(var O,w=l[Symbol.iterator]();!(v=(O=w.next()).done);v=!0){var j=O.value;k.push(new y.a(j))}}catch(B){g=!0,m=B}finally{try{v||null==w.return||w.return()}finally{if(g)throw m}}var x=new q.a(D({},n)),R=new d.a({bookPlot:x,container:r,metadata:i,coverPath:c,navPath:u,ncxPath:s,spine:k,uniqueIdentifier:h});return e.opfPackage=R,e.resource={assets:f,css:p,html:b},e.hitType="none",R}},{key:"cacheBookResource",value:function(e){if("none"==e.hitType){console.log("\u521d\u6b21\u6253\u5f00\uff0c\u9700\u8981\u89e3\u6790\u8d44\u6e90\u6587\u4ef6");var t=e.bookRequest,n=e.originBook,r=e.resource,o=t.bookKey,a=this.quickInfoMap.get(o);a?a.bookQuery=e:(a=new w.a({bookQuery:e}),this.quickInfoMap.set(o,a));var i=r.assets,c=r.css,s=r.html,u=new Map,l=!0,h=!1,f=void 0;try{for(var p,b=i[Symbol.iterator]();!(l=(p=b.next()).done);l=!0){var k=p.value;if(-1!=k.type.indexOf("image")){var d=this.getNameByHref(k.href),y=new v.a(D({name:d},k));u.set(d,y)}}}catch(Q){h=!0,f=Q}finally{try{l||null==b.return||b.return()}finally{if(h)throw f}}var O=new Map,j=!0,x=!1,R=void 0;try{for(var B,I=c[Symbol.iterator]();!(j=(B=I.next()).done);j=!0){var q=B.value,P=this.getNameByHref(q.href),N=new m.a(D({name:P},q));O.set(P,N),this.parseCss(n,N)}}catch(Q){x=!0,R=Q}finally{try{j||null==I.return||I.return()}finally{if(x)throw R}}var U=new Map,K=!0,S=!1,C=void 0;try{for(var M,E=s[Symbol.iterator]();!(K=(M=E.next()).done);K=!0){var A=M.value,z=this.getNameByHref(A.href),T=new g.a(D({name:z},A));U.set(z,T),this.parseHtml(n,T)}}catch(Q){S=!0,C=Q}finally{try{K||null==E.return||E.return()}finally{if(S)throw C}}a.imgResourceMap=u,a.cssResourceMap=O,a.htmlResourceMap=U}}},{key:"cacheBookToDB",value:function(e){var t=e.opfPackage,n=e.resource,r=t.bookPlot.bookKey;u.setItem(r,{opfPackage:t,resource:n}).then(function(){console.log("\u4e66\u7c4d\u4fe1\u606f\u7f13\u5b58\u5230\u6570\u636e\u5e93")})}},{key:"handleImageTodos",value:function(t,n){var r=this,o=n.length;return new Promise(function(a,i){for(var c=o,s=function(o){var i=n[o],s=i.imageResource,u=i.imageNode,l=s.href;t.loadImage(l).then(function(t){c--;var n=e.from(t,"base64"),o=k()(n);console.log("image resolved ".concat(l),o),s.base64Data=t,s.dimension=o,s.decoded=!0,u.href=l,u.base64Data=t,u.width=o.width,u.height=o.height,0==c&&(console.log("\u89e3\u6790\u5b8c\u6210"),a(!0));var i="data:image/".concat(o.type,";base64,").concat(t);r.resolver.setImageData(i)})},u=0;u<o;u++)s(u)})}},{key:"parseCss",value:function(e,t){var n=t.href;e.loadText(n).then(function(e){console.log("cssData back",n);var r=h.a.parse(e),o=Array.of();r.walkRules(function(e){o.push(new O.a(e))}),t.rules=o})}},{key:"parseHtml",value:function(e,t){var n=t.href;e.loadText(n).then(function(e){console.log("htmlData back",n);var r=p()(e);if(Array.isArray(r)){var o,a=!0,i=!1,c=void 0;try{for(var s,u=r[Symbol.iterator]();!(a=(s=u.next()).done);a=!0){var l=s.value;if(l&&"html"===l.type){o=l;break}}}catch(h){i=!0,c=h}finally{try{a||null==u.return||u.return()}finally{if(i)throw c}}t.htmlNode=o}})}},{key:"queryChapter",value:function(){var e=Object(i.a)(a.a.mark(function e(t){var n,r,o,i,c,s,u,l,h,f,p,b,k,d,y,v,g,m,O,w,x,R,B,I,P,N,U;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.getBookKey(),r=t.getChapterIndex(),o=this.quickInfoMap.get(n),i=o.bookQuery,c=o.htmlResourceMap,s=i.opfPackage.spine,u=s[r],l=u.href,h=this.getNameByHref(l),f=c.get(h),p=f&&f.renderBlocks,!Array.isArray(p)){e.next=13;break}return t.hitType="cache",e.abrupt("return",new j.a({bookKey:n,chapterIndex:r,renderBlocks:p}));case 13:b=f&&f.htmlNode,k=b&&b.props,d=k&&k.children,v=!0,g=!1,m=void 0,e.prev=19,O=d[Symbol.iterator]();case 21:if(v=(w=O.next()).done){e.next=29;break}if(!(x=w.value)||"body"!==x.type){e.next=26;break}return y=x,e.abrupt("break",29);case 26:v=!0,e.next=21;break;case 29:e.next=35;break;case 31:e.prev=31,e.t0=e.catch(19),g=!0,m=e.t0;case 35:e.prev=35,e.prev=36,v||null==O.return||O.return();case 38:if(e.prev=38,!g){e.next=41;break}throw m;case 41:return e.finish(38);case 42:return e.finish(35);case 43:if(R=y&&y.props,B=R&&R.children,!(Array.isArray(B)&&B.length>=1)){e.next=57;break}if((I=B[0])&&"section"===I.type&&(y=I),P=t.chapterRequest,N=new q.a(D({},P)),U=Array.of(),p=this.getRenderBlocks(U,N,y),!(U.length>0)){e.next=56;break}return console.log("\u6709\u672a\u89e3\u6790\u7684\u56fe\u7247",U),e.next=56,this.handleImageTodos(i.originBook,U);case 56:f.renderBlocks=p;case 57:return t.hitType="none",e.abrupt("return",new j.a({bookKey:n,chapterIndex:r,renderBlocks:p}));case 59:case"end":return e.stop()}},e,this,[[19,31,35,43],[36,,38,42]])}));return function(t){return e.apply(this,arguments)}}()},{key:"getRenderBlocks",value:function(e,t,n){for(var r=Array.of(),o=n&&n.props,a=o&&o.children,i=a&&a.length,c=0;c<i;c++){var s=this.resolve(e,t,a[c]);s&&r.push(new x.a({blockIndex:c,blockNode:s}))}return r}},{key:"resolve",value:function(e,t,n){var r=n&&n.type,o=n.props,a=o&&o.children;return"string"===typeof n?this.resolveTextNode(e,t,n):"img"===r?this.resolveImageNode(e,t,n):"image"===r?this.resolveSvgImageNode(e,t,n):Array.isArray(a)&&a.length>=1?this.resolveContainerNode(e,t,n):void console.log("\u672a\u77e5\u8282\u70b9\u7c7b\u578b",n)}},{key:"resolveTextNode",value:function(e,t,n){return new R.a({bookPlot:t,content:n})}},{key:"resolveImageNode",value:function(e,t,n){var r=n.type,o=n.props,a=o&&o.className,i=o&&o.style,c=o&&o.alt,s=o&&o.active,u=o&&o.src,l=new B.a({bookPlot:t,type:r,className:a,style:i,alt:c,active:s,src:u}),h=this.getNameByHref(u),f=t.bookKey,p=this.quickInfoMap.get(f).imgResourceMap.get(h);if(p.decoded){var b=p.href,k=p.base64Data,d=p.dimension,y=d.width,v=d.height;l.href=b,l.base64Data=k,l.width=y,l.height=v}else e.push(new P.a({imageResource:p,imageNode:l}));return l}},{key:"resolveSvgImageNode",value:function(e,t,n){var r=n.type,o=n.props,a=o&&o["xlink:href"],i=new B.a({bookPlot:t,type:r,href:a}),c=this.getNameByHref(a),s=t.bookKey,u=this.quickInfoMap.get(s).imgResourceMap.get(c);if(u.decoded){var l=u.href,h=u.base64Data,f=u.dimension,p=f.width,b=f.height;i.href=l,i.base64Data=h,i.width=p,i.height=b}else e.push(new P.a({imageResource:u,imageNode:i}));return i}},{key:"resolveContainerNode",value:function(e,t,n){var r=n.type,o=n.props,a=o&&o.className,i=o&&o.style,c=o&&o.children,s=Array.of(),u=!0,l=!1,h=void 0;try{for(var f,p=c[Symbol.iterator]();!(u=(f=p.next()).done);u=!0){var b=f.value,k=this.resolve(e,t,b);k&&s.push(k)}}catch(d){l=!0,h=d}finally{try{u||null==p.return||p.return()}finally{if(l)throw h}}return new I.a({bookPlot:t,type:r,className:a,style:i,children:s})}},{key:"getNameByHref",value:function(e){var t,n=e.split("/");Array.isArray(n)&&(t=n[n.length-1]);return t}}]),t}()}).call(this,n(8).Buffer)},70:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(1),o=function e(t){Object(r.a)(this,e),this.bookPlot=t&&t.bookPlot,this.container=t&&t.container,this.metadata=t&&t.metadata,this.coverPath=t&&t.coverPath,this.navPath=t&&t.navPath,this.ncxPath=t&&t.ncxPath,this.spine=t&&t.spine,this.uniqueIdentifier=t&&t.uniqueIdentifier}},71:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(1),o=function e(t){Object(r.a)(this,e),this.cfiBase=t&&t.cfiBase,this.href=t&&t.href,this.idref=t&&t.idref,this.index=t&&t.index,this.linear=t&&t.linear}},72:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(1),o=n(5),a=n(4),i=n(6),c=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(o.a)(this,Object(a.a)(t).call(this,e))).base64Data=e&&e.base64Data,n.dimension=e&&e.dimension,n}return Object(i.a)(t,e),t}(n(10).a)},73:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(1),o=n(5),a=n(4),i=n(6),c=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(o.a)(this,Object(a.a)(t).call(this,e))).htmlNode=e&&e.htmlNode,n.renderBlocks=e&&e.renderBlocks,n}return Object(i.a)(t,e),t}(n(10).a)},74:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(1),o=n(5),a=n(4),i=n(6),c=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(o.a)(this,Object(a.a)(t).call(this,e))).rules=e&&e.rules,n}return Object(i.a)(t,e),t}(n(10).a)},75:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(1),o=function e(t){Object(r.a)(this,e),this.bookQuery=t&&t.bookQuery,this.imgResourceMap=t&&t.imgResourceMap,this.cssResourceMap=t&&t.cssResourceMap,this.htmlResourceMap=t&&t.htmlResourceMap}},76:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(1),o=function e(t){Object(r.a)(this,e),this.blockIndex=t&&t.blockIndex,this.blockNode=t&&t.blockNode}},77:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(1),o=n(5),a=n(4),i=n(6),c=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(o.a)(this,Object(a.a)(t).call(this,e))).nodeType="text",n.textType="plain",n.content=e&&e.content,n}return Object(i.a)(t,e),t}(n(11).a)},78:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(1),o=n(5),a=n(4),i=n(6),c=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(o.a)(this,Object(a.a)(t).call(this,e))).nodeType="container",n.children=e&&e.children,n}return Object(i.a)(t,e),t}(n(11).a)},80:function(e,t,n){"use strict";var r=n(1),o=function e(t){Object(r.a)(this,e),this.prop=t&&t.prop,this.value=t&&t.value};n.d(t,"a",function(){return a});var a=function e(t){Object(r.a)(this,e),this.selector=t&&t.selector;var n=t&&t.nodes;if(Array.isArray(n)){this.nodes=Array.of();var a=!0,i=!1,c=void 0;try{for(var s,u=n[Symbol.iterator]();!(a=(s=u.next()).done);a=!0){var l=s.value;this.nodes.push(new o(l))}}catch(h){i=!0,c=h}finally{try{a||null==u.return||u.return()}finally{if(i)throw c}}}}},81:function(e,t,n){e.exports=n(172)},86:function(e,t,n){},91:function(e,t){},92:function(e,t){},93:function(e,t){}},[[81,1,2]]]);
//# sourceMappingURL=main.4bb0a1b8.chunk.js.map